"use strict";var e,r=(e=require("react"))&&"object"==typeof e&&"default"in e?e.default:e;function n(){return(n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var t=0,o={active:!0},c=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function u(e){if(c(e)||Array.isArray(e)){var r;try{r=JSON.stringify(e,null,2)}catch(e){r="CIRCULAR JSON"}return r}return e}exports.setUseWhatChange=function(e){var r=(void 0===e?{}:e).active;o=n({},o,{active:void 0===r||r})},exports.useWhatChanged=function(e,n,c,a){var i=r.useMemo((function(){return"useLayoutEffect"===a?"useLayoutEffect":"useEffect"}),[]),l=r.useRef(e),s=r.useRef(1),f=r.useRef(""),v=Array.isArray(l.current);function y(){console.log("\n"),console.log("%c///// END SECTION/////","background: "+f.current+"; color: white; font-size: 10px","\n"),console.log("\n"),console.log("\n")}r[i]((function(){l.current&&v&&(t++,s.current=t,f.current=function(){for(var e="#",r=0;r<6;r++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}())}),[l,v]);var g,d,p=(d=r.useRef(g=function(e){var r=e.isFirstMount,n=e.suffixText,t=e.isBlankArrayAsDependency;o.active&&(console.log("%c///// START SECTION /////","background: "+f.current+"; color: white; font-size: 10px","\n"),console.log("\n"),console.log("%c "+s.current+" "+(c||""),"background: "+f.current+"; color: white; font-size: 10px","👇🏾",r?"FIRST RUN":"UPDATES",""+n),t&&y())}),r.useEffect((function(){d.current=g})),d);r[i]((function(){if(l.current&&v){var r=n?n.split(","):null,t=!1,c=e?e.reduce((function(e,o,c){if(l.current&&o!==l.current[c]){var a=l.current[c];return l.current[c]=o,n&&r?(t=!0,e['"✅" '+r[c]]={"Old Value":u(a),"New Value":u(o)}):e['"✅" '+c]={"Old Value":u(a),"New Value":u(o)},e}return n&&r?e['"⏺" '+r[c]]={"Old Value":u(o),"New Value":u(o)}:e['"⏺" '+c]={"Old Value":u(o),"New Value":u(o)},e}),{}):{};if(o.active){var a=c&&0===Object.keys(c).length&&v;p.current({isFirstMount:!t,suffixText:a?" 👉🏽 This will run only once on mount.":"",isBlankArrayAsDependency:a}),a||(console.table(c),y())}}}),[].concat(e&&v?e:[],[l,p,a]))};
//# sourceMappingURL=use-what-changed.cjs.production.min.js.map
